<!doctype html>
<html lang="en">
    <head>
        <title>Facemask Detection</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
              rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
              crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="../static/index.css" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <body>
        <br>
        <h1>FACEMASK DETECTION - YOLOV5</h1>
        <br><br>
        <div class="container">
          <div class="row">
            <div class="col-3">
                <br><br><br><br><br><br><br><br>
                <h3 style="color: #0099cc;">Detect by:</h3><br>
                <button type="button" class="btn btn-outline-info btn-lg" id="btn1">Image</button>
                <br><br>
                <button type="button" class="btn btn-outline-info btn-lg" id="btn2">Webcam</button>
            </div>
              <div class="col"></div>
            <div class="col-8">
                <div id="demo1">
                     <form method = "POST" enctype = "multipart/form-data">
                         <label for="formFile" class="form-label">Select an image:</label>
                         <input class="form-control" type="file" id="formFile" name="file" value="Browse">
                         <br>
                         <button class="btn btn-info text-light" type="submit">Detect</button>
                        <br><br>
                        {% if filename %}
                            <div>
                                <img id="test" class="contain" src="{{ url_for('display_image', filename=filename) }}">
                            </div>
                        {% endif %}
                     </form>
                </div>
                <div id="demo2" class="hidden">
                     <h1 style="color: #0099cc;">PLEASE WEAR A MASK!!!</h1>
                    <br>
                    <div>
                         <img id="video"  alt="test" src="{{ url_for('detect_webcam')}}">
                     </div>
                </div>
            </div>
          </div>
        </div>

    <script language="JavaScript">
         document.getElementById("btn1").onclick = function () {
            document.getElementById("demo1").style.display = 'block';
            document.getElementById("demo2").style.display = 'none';
            document.getElementById("test").style.display='none';
         };

         document.getElementById("btn2").onclick = function () {
             document.getElementById("demo1").style.display = 'none';
             document.getElementById("demo2").style.display = 'block';
             {#document.getElementById("video").style.display='none';#}
         };
    </script>
    </body>
</html>